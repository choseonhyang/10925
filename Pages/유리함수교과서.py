import streamlit as st
import numpy as np
import matplotlib.pyplot as plt

st.set_page_config(page_title="ìœ ë¦¬í•¨ìˆ˜ í•™ìŠµ ì•±", layout="centered")

st.title("ğŸ“˜ ìœ ë¦¬í•¨ìˆ˜ í•™ìŠµí•˜ê¸°")
st.write("ìœ ë¦¬í•¨ìˆ˜ì˜ ì„±ì§ˆì„ ê·¸ë˜í”„ì™€ í•¨ê»˜ ì •ë¦¬í•´ ë´…ì‹œë‹¤.")

st.divider()

# -------------------------------------------------
# 1. ìœ ë¦¬í•¨ìˆ˜ ì •ì˜
# -------------------------------------------------
st.header("1. ìœ ë¦¬í•¨ìˆ˜ë€?")
st.write("""
ìœ ë¦¬í•¨ìˆ˜ëŠ” **ë‹¤í•­ì‹ Ã· ë‹¤í•­ì‹**ì˜ ê¼´ë¡œ ë‚˜íƒ€ë‚˜ëŠ” í•¨ìˆ˜ì…ë‹ˆë‹¤.

ëŒ€í‘œì ì¸ ì˜ˆ:
""")
st.latex(r"f(x)=\frac{ax+b}{cx+d}\quad (c\neq 0)")

st.write("""
ì´ ì•±ì—ì„œëŠ” ê°€ì¥ ê¸°ë³¸ì ì¸ í˜•íƒœì¸ ì•„ë˜ ìœ ë¦¬í•¨ìˆ˜ë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.
""")
st.latex(r"f(x)=\frac{a}{x-h}+k")

st.divider()

# -------------------------------------------------
# 2. ê³„ìˆ˜ ì…ë ¥
# -------------------------------------------------
st.header("2. í•¨ìˆ˜ ì„¤ì •í•˜ê¸°")

a = st.slider("a ê°’", -5, 5, 1)
h = st.slider("h ê°’ (x ì´ë™)", -5, 5, 0)
k = st.slider("k ê°’ (y ì´ë™)", -5, 5, 0)

st.latex(rf"f(x)=\frac{{{a}}}{{x-{h}}}+{k}")

# -------------------------------------------------
# 3. ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
# -------------------------------------------------
st.header("3. ê·¸ë˜í”„")

x1 = np.linspace(-10, h - 0.1, 400)
x2 = np.linspace(h + 0.1, 10, 400)

y1 = a / (x1 - h) + k
y2 = a / (x2 - h) + k

fig, ax = plt.subplots()
ax.plot(x1, y1)
ax.plot(x2, y2)

# ì ê·¼ì„ 
ax.axvline(x=h, linestyle="--")
ax.axhline(y=k, linestyle="--")

ax.axhline(0)
ax.axvline(0)

ax.set_xlim(-10, 10)
ax.set_ylim(-10, 10)
ax.set_title("ìœ ë¦¬í•¨ìˆ˜ì˜ ê·¸ë˜í”„")

st.pyplot(fig)

st.divider()

# -------------------------------------------------
# 4. ì •ì˜ì—­ê³¼ ì¹˜ì—­
# -------------------------------------------------
st.header("4. ì •ì˜ì—­ê³¼ ì¹˜ì—­")

st.subheader("ì •ì˜ì—­")
st.write("ë¶„ëª¨ê°€ 0ì´ ë˜ëŠ” ê°’ì€ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
st.latex(rf"\text{{ì •ì˜ì—­}}=\mathbb{{R}}\setminus\{{{h}\}}")

st.subheader("ì¹˜ì—­")
st.write("ì ê·¼ì„  yê°’ì€ í•¨ìˆ˜ê°’ì´ ë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.")
st.latex(rf"\text{{ì¹˜ì—­}}=\mathbb{{R}}\setminus\{{{k}\}}")

st.divider()

# -------------------------------------------------
# 5. ì ê·¼ì„ 
# -------------------------------------------------
st.header("5. ì ê·¼ì„ ")

st.write("ìœ ë¦¬í•¨ìˆ˜ëŠ” ê·¸ë˜í”„ê°€ ê°€ê¹Œì´ ë‹¤ê°€ê°€ì§€ë§Œ ë§Œë‚˜ì§€ ì•ŠëŠ” ì§ì„ ì„ ê°€ì§‘ë‹ˆë‹¤.")

st.latex(rf"\text{{ìˆ˜ì§ ì ê·¼ì„ : }} x={h}")
st.latex(rf"\text{{ìˆ˜í‰ ì ê·¼ì„ : }} y={k}")

st.divider()

# -------------------------------------------------
# 6. ëŒ€ì¹­ì„±
# -------------------------------------------------
st.header("6. ìœ ë¦¬í•¨ìˆ˜ì˜ ëŒ€ì¹­ì„±")

st.write("""
ìœ ë¦¬í•¨ìˆ˜ì˜ ê·¸ë˜í”„ëŠ”  
**ì  (h, k)ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ í•œ ì ëŒ€ì¹­** êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤.
""")

st.latex(r"(x-h)(y-k)=a")

st.write("""
ì¦‰, í•œ ì ì„ ê¸°ì¤€ìœ¼ë¡œ ê·¸ë˜í”„ì˜ ëª¨ì–‘ì´ ëŒ€ì¹­ì ìœ¼ë¡œ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.
""")

st.divider()

# -------------------------------------------------
# 7. í™œìš© ì˜ˆì‹œ
# -------------------------------------------------
st.header("7. ìœ ë¦¬í•¨ìˆ˜ì˜ í™œìš©")

st.write("""
ìœ ë¦¬í•¨ìˆ˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ìƒí™©ì„ ì„¤ëª…í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.
""")

st.markdown("""
- ğŸ“‰ **ì†ë„ì™€ ì‹œê°„ì˜ ê´€ê³„**
- ğŸ—ï¸ **ë©´ì ì´ ì¼ì •í•  ë•Œ ê°€ë¡œÂ·ì„¸ë¡œ ê¸¸ì´ì˜ ë³€í™”**
- ğŸ’° **ë¹„ìœ¨Â·íš¨ìœ¨Â·ë‹¨ê°€ ë¬¸ì œ**
- ğŸŒ¡ï¸ **ë¬¼ë¦¬Â·ì‚¬íšŒ í˜„ìƒì—ì„œ í•œê³„ê°’ì´ ì¡´ì¬í•˜ëŠ” ê²½ìš°**
""")

st.write("""
íŠ¹íˆ **ì–´ë–¤ ê°’ì— ê°€ê¹Œì›Œì§€ì§€ë§Œ ë„ë‹¬í•˜ì§€ ëª»í•˜ëŠ” ìƒí™©**ì„ í‘œí˜„í•  ë•Œ
ìœ ë¦¬í•¨ìˆ˜ê°€ ë§¤ìš° íš¨ê³¼ì ì…ë‹ˆë‹¤.
""")

st.divider()

st.write("âœ” ìœ ë¦¬í•¨ìˆ˜ì˜ í•µì‹¬ ì„±ì§ˆì„ ê·¸ë˜í”„ì™€ í•¨ê»˜ ì •ë¦¬í•´ ë³´ì•˜ìŠµë‹ˆë‹¤.")
